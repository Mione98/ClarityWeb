<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clarity Tracking Test</title>

    <!-- Microsoft Clarity Tracking Code -->
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "qwqdb3juyn"); // ðŸ‘ˆ Your Clarity project ID
    </script>

    <!-- Read tracking parameters from URL -->
    <script>
      window.onload = function () {
        const params = new URLSearchParams(window.location.search);
        const user = params.get("user");
        const source = params.get("source");

        // Log for debugging (optional)
        console.log("Clarity user:", user);
        console.log("Clarity source:", source);

        // Pass custom data to Clarity session
        if (user) clarity("set", "userId", user);
        if (source) clarity("set", "source", source);
      };
    </script>

    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
        background: #f9f9f9;
      }
      h1 {
        color: #222;
      }
      p {
        color: #555;
      }
    </style>
  </head>
  <body>
    <h1>âœ… Clarity Tracking Test Page</h1>
    <p>This page was opened from the mobile app.</p>
    <p>
      Visit your Clarity Web dashboard to confirm the session is tagged with
      <code>userId</code> and <code>source</code>.
    </p>
  </body>
</html>
